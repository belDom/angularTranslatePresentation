<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>Presentation</title>

	<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
	<meta name="author" content="Hakim El Hattab">

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/beige.css" id="theme">

	<!-- Code syntax highlighting -->
	<link rel="stylesheet" href="lib/css/zenburn.css">

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement( 'link' );
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName( 'head' )[0].appendChild( link );
	</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Internationalization</h1>
				</section>

				<section>
					<h2>Topics:</h2>
					<ul>
						<li><a href="#/2">What is internationalization?</a></li>
						<li><a href="#/3">angular-translate</a></li>
						<li><a href="#/4">Formatting & Pluralization</a></li>
						<li><a href="#/5">UI-Grid</a></li>
						<li><a href="#/6">HighCharts</a></li>
						<li><a href="#/7">Unit tests</a></li>
					</ul>
				</section>

				<section>
					<section>
						<h1>What is internationalization?</h1>
					</section>
					<section>
						<p>Internationalization of software means designing it such that it supports or can be easily adapted to support the needs of users speaking different languages and having different cultural expectations, and enables worldwide communication between them.</p>
					</section>
				</section>

				<section>
					<section><h1>Angular Translate</h1></section>
					<section>
						<h2>What is angular-translate?</h2>
						<p>angular-translate is an AngularJS module that helps you when it comes to i18n and I10n (internationalization of websites). It is a great tool for helping you support translations to several languages in your web app.</p>			
					</section>
					<section>
						<h2>How does it work?</h2>
						<img data-src="img/conceptual_overview.png" alt="">
					</section>
					<section>
						<h2>Getting started with angular-translate</h2>
						<ol>
							<li>Add to our packages the angular-translate library</li>
							<li>Inject angular-translate to our app</li>
							<li>Configure the angular-translate dependency through <b>$translateProvider</b></li>
						</ol>
					</section>
					<section>
						<h2>Key parts of the configuration</h2>
						<ul>
							<li>fallbackLanguage</li>
							<li>registerAvailableLangueKeys</li>
							<li>Translations</li>
							<li>useSanitizeValueStrategy</li>
							<li>preferredLanguage</li>
						</ul>
					</section>
					<section>
						<h2>Once the $translateProvider is set up, are you ready to roll?</h2>
						<img data-src="img/readyToRoll.jpg" alt="">
					</section>
					<section>
						<h2>So... how can we use the $translate?</h2>
						<img data-src="img/doubt.jpg" alt="">
					</section>
					<section>
						<h2>There are 3 different ways to use $translate</h2>
						<ul>
							<li>As a service</li>
							<li>As a filter</li>
							<li>As a directive</li>
						</ul>
					</section>
					<section>
						<h2>Using $translate service</h2>
						<img data-src="img/promiseServiceExample.png" alt="">
						<h3>Things to keep in mind when using $translate service:</h3>
						<ul>
							<li>It always returns a promise</li>
							<li style="color: red">DOES NOT PROVIDE A TWO-WAY DATA BINDING!!</li>
							<li>The only way to resolve the abscence of two-way data binding is to make use of $on</li>
						</ul>
					</section>
					<section>
						<h3>Using $translate service</h3>
						<h3>==</h3>
						<img data-src="img/thumbsDown.jpg" alt="">
					</section>
					<section>
						<h2>Using $translate filter</h2>
						<img data-src="img/asAFilter.png" alt="">
						<h3 style="color: red">Too many $watch expressions</h3>
					</section>
					<section>
						<h3>Using $translate filter</h3>
						<h3>==</h3>
						<img src="img/inCaseOfEmergency.gif" alt=""><br>
						<small>Emergency only</small>
					</section>
					<section>
						<h2>Using translate directive</h2>
						<img data-src="img/usingAsDirective.png" alt="">
					</section>
					<section>
						<h3>Using translate directive</h3>
						<h3>==</h3>
						<img src="img/wiseChoice.jpg" alt="">
					</section>
					<section>
						<h2>Variable Replacement</h2>
						<h3>Using translate service</h3>
						<img data-src="img/variableReplacementeService.png" alt="">
					</section>
					<section>
						<h2>Variable Replacement</h2>
						<h3>Using translate filter</h3>
						<pre><code>{{ 'TRANSLATION_ID' | translate:'{ username: "PascalPrecht" }' }}</code></pre>
					</section>
					<section>
						<h2>Variable Replacement</h2>
						<h3>Using translate directive</h3>
						<img data-src="img/variableReplacementeDirective.png" alt="">
					</section>
					<section>
						<h2>Awesome, now what if we want to change the language at runtime?</h2>
						<img data-src="img/thinking.jpg" alt="">
					</section>
					<section>
						<h2>Changing language at runtime</h2>
						<img data-src="img/change_language_runtime.png" alt="">
					</section>
					<section>
						<h2>It's time to think big...</h2>
						<h1>Asynchronous Loading</h1>
						<h4>Goal: Load the translations later during runtime</h4>
					</section>
					<section>
						<h2>Three strategies:</h2>
						<ul>
							<li>urlLoader</li>
							<li>staticFilesLoader</li>
							<li>partialLoader</li>
						</ul>

						<small style="color: blue">All of them are external packages, they don't come with angular-translate</small>
					</section>
					<section>
						<h2>Asynchronous Loading:</h2>
						<h3>url Loader</h3>
						<ul>
							<li>It's the simplest way</li>
							<li>Package to install: <em>'angular-translate-loader-url'</em></li>
							<img data-src="img/urlLoader.png" alt="">
							<li>Translation file only in one place</li>
						</ul>
					</section>
					<section>
						<h2>Asynchronous Loading:</h2>
						<h3>static Files Loader</h3>
						<ul>
							<li>Several localization files which match a specific pattern</li>
							<li>Package to install: <em>'angular-translate-loader-static-files'</em></li>
							<li>We need to specify a pattern:</li>
						</ul>
						<img data-src="img/staticfileloader.png" alt="">
					</section>
					<section>
						<h2>Asynchronous Loading:</h2>
						<h3>partial Loader</h3>
						<ul>
							<li>When the application has multiple modules</li>
							<li>Loads the translation data of a language for a specific module we're currently on</li>
							<li>Package to install: <em>'angular-translate-loader-partial'</em></li>
						</ul>
					</section>
					<section>
						If we had a structure like the following:<br>
						<img data-src="img/strcuturePartialLoader.png" alt=""><br>
						We need to configure $translateProvider to use the partial loader with this pattern:
						<img data-src="img/configureTranslateProvider.png" alt="">
					</section>
					<section>
						<h4>Okay, so this is the inital process but what about runtime?</h4>
						Inject <b>$translatePartialLoader</b> into your controllers and services to make use of it.<br>
						<img data-src="img/letAngularTranslateKnow.png" alt=""><br>
						Since $translate.refresh() <b>returns a promise</b>, it works beautifully together with either ngRoute module or UI Router
					</section>
					<section>
						<h2>Limitations of angular-translate</h2>
						<b>Pluralization</b> and <b>formatting</b> to fit language conventions is not handled by angular-translate. We might require another module(<b>messageFormat</b>)
					</section>
				</section>

				<section>
					<section>
						<h1>Formatting and Pluralization</h1>
					</section>
					<section>
						<h2>Formatting</h2>
						In order to use the formatting we need to download the different locales (a locale is a specific geographical, political, or cultural region).
						We can download them from the following link:<br>
						<a href="https://github.com/angular/angular.js/tree/master/src/ngLocale">Supported locales in Angular</a><br>
					</section>
					<section>
						<h2>Formatting</h2>
						We also need to add the following library, that will allow us to change the locale dynamically during runtime.<br>
						<a href="https://github.com/lgalfaso/angular-dynamic-locale">
							<img data-src="img/dynamicLocale.png" alt="">
						</a><br>
					</section>
					<section>
						<h2>Formatting</h2>
						Inject it to your controller <b>tmhDynamicLocale</b> and use is as the example below:<br>
						<img data-src="img/usingDynamicLocale.png" alt="">
					</section>
					<section>
						<h2>Pluralization</h2>
					</section>
					<section>
						<h2>Pluralization</h2>
						It's not supported by angular-translate nor by angularJS, but both of them suggest ussing: <b>messageFormat</b><br>
						<a href="https://github.com/SlexAxton/messageformat.js">
							<img data-src="img/ngFormat.png" alt="">
						</a><br>
						In order to use it we need to add to the config file:
						<pre><code>$translateProvider.useMessageFormatInterpolation();</code></pre>
					</section>
					<section>
						<h2>Pluralization</h2>
						This will allows us to add in our translations:<br>
						<img data-src="img/pluralization.png" alt=""><br>
						And we'll be able to use it, as the following shows:<br>
						<img data-src="img/pluralizationExample.png" alt="">
					</section>
					<section>
						<h2>Pluralization</h2>
						<img data-src="img/problem.jpg" alt="" style="width: 200px"><br>
						The problem with this that we cannot differentiate pluralization from variable replacement. In order to differentiate one from another we need to <b>overwrite the interpolation temporarily.</b><br>
						<em>Example: <a href="http://plnkr.co/edit/Mr9RePc0UTvJGF7PxjiL?p=preview">Overwrite interpolation temporarily</a></em>
					</section>
					<section>
						<h2>Pluralization</h2>
						<h3>Overwriting the interpolation temporarily</h3>
						<ol>
							<li>Add the following to the provider</li>
							<pre><code>$translateProvider.addInterpolation('$translateMessageFormatInterpolation');</code></pre>
							(Makes $translate aware that there's another interpolation service that could be used for specific translations)
							<li>Setup a new translation table with translations that use default interpolation and MessageFormat interpolation</li>
							<img data-src="img/translationWithInterpolations.png" alt="">
						</ol>
					</section>
					<section>
						<h2>Pluralization</h2>
						<h3>Overwriting the interpolation temporarily</h3>
						<h4>Using the different interpolations in... a service</h4>
						<img data-src="img/interpolationsAsAService.png" alt="">
					</section>
					<section>
						<h2>Pluralization</h2>
						<h3>Overwriting the interpolation temporarily</h3>
						<h4>Using the different interpolations in... a filter</h4>
						<img data-src="img/interpolationAsAFilter.png" alt="">
					</section>
					<section>
						<h2>Pluralization</h2>
						<h3>Overwriting the interpolation temporarily</h3>
						<h4>Using the different interpolations in... a directive</h4>
						<img data-src="img/interporaltionAsDirective.png" alt="">
					</section>
				</section>
				<section>
					<section>
						<h1>UI-GRID</h1>
					</section>
					<section>
						<h2>UI-GRID</h2>
						When translating the headers: <br>
						<img data-src="img/uigrid.png" alt="">
					</section>
					<section>
						<h2>UI-GRID</h2>
						When translating the filters: <br>
						<a href="http://plnkr.co/edit/KnrKTst5dWXvlZNeIy9c?p=preview">Plunker example</a>
					</section>
				</section>
				<section>
					<section>
						<h1>HighCharts</h1>
					</section>
					<section>
						<img data-src="img/highCharts.png" alt="">
					</section>
				</section>
				<section>
					<section>
						<h1>Unit tests</h1>
					</section>
					<section>
						<h2>Unit tests</h2>
						<img data-src="img/mockingUnitTests.png" alt="">
					</section>
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
				{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
				{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
				{ src: 'plugin/zoom-js/zoom.js', async: true },
				{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
	</html>
